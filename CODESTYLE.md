# Стиль кода и комментариев

## Общие правила
- PSR-12 + строгая типизация (`declare(strict_types=1)`).
- Все публичные классы, методы и свойства документировать.
- Используем PHPDoc только там, где не очевидно из типов.

---

## Классы
```php
/**
 * Контроллер для работы с пользователями.
 *
 * Обрабатывает маршруты /api/users.
 */
final class UsersController
{
    ...
}
```

---

## Свойства

```php
/** PDO-подключение к базе данных */
private PDO $pdo;

/** Конфиг JWT (secret, alg, ttl) */
private array $jwtCfg;
```

---

## Константы

```php
/** Максимальное количество пользователей в выдаче */
private const MAX_USERS = 100;
```

---

## Методы

```php
/**
 * Возвращает список пользователей.
 *
 * @param Req $req HTTP-запрос
 * @param Res $res HTTP-ответ
 * @return Res JSON с пользователями
 */
public function list(Req $req, Res $res): Res
{
    ...
}
```

---

## Переменные

* Локальные переменные обычно **не комментируются**, если название понятно.
* Комментарий допустим для сложной логики:

```php
// нормализуем email перед проверкой
$email = strtolower(trim($data['email'] ?? ''));
```

---

## Документирование SQL

Если SQL-запрос длинный — добавь короткий комментарий:

```php
// Получаем последних 100 пользователей по дате создания
$stmt = $pdo->query('SELECT id, email, created_at FROM users ORDER BY created_at DESC LIMIT 100');
```

---

## TODO / FIXME

* Используй `// TODO:` для отложенных задач.
* Используй `// FIXME:` для временного или некорректного решения.